<h1>How to update</h1>

<form class="sbb-form-group" [formGroup]="versionSelect">
  <sbb-form-field label="From">
    <sbb-select formControlName="from">
      @for (v of versions; track v) {
        <sbb-option [value]="v">{{ toVersionString(v) }}</sbb-option>
      }
    </sbb-select>
  </sbb-form-field>

  <sbb-form-field label="To">
    <sbb-select formControlName="to">
      @for (v of versions; track v) {
        <sbb-option [value]="v">{{ toVersionString(v) }}</sbb-option>
      }
    </sbb-select>
  </sbb-form-field>
</form>

@if (versionSelect.controls.to.value - versionSelect.controls.from.value > 150) {
  <sbb-notification type="warn">
    We do not support migrating across multiple major versions at once. Please migrate each major
    version individually.
  </sbb-notification>
}

@if (versionSelect.controls.to.value < versionSelect.controls.from.value) {
  <sbb-notification type="error">
    We do not support downgrading versions of SBB Angular.
  </sbb-notification>
}

@if (versionSelect.controls.to.value === versionSelect.controls.from.value) {
  <sbb-notification type="success"> There's nothing to do. </sbb-notification>
}

@for (step of steps | async; track step) {
  <div>
    <h2>Update from Version {{ toVersionString(step.from) }} to {{ toVersionString(step.to) }}</h2>
    <ol>
      @for (action of step.actions; track action) {
        <li [innerHTML]="action"></li>
      }
    </ol>
  </div>
}

<button
  *ngIf="!_loggedIn"
  class="sbb-button-reset-frameless sbb-usermenu-trigger sbb-usermenu-trigger-logged-out"
  (click)="_emitLogin()"
  type="button"
>
  <sbb-icon svgIcon="kom:user-small" class="sbb-usermenu-logged-out-icon"></sbb-icon>
  <span class="sbb-usermenu-logged-out-label" i18n="Button label for login@@sbbUsermenuLogin"
    >Login</span
  >
</button>

<button
  *ngIf="_loggedIn"
  [sbbMenuTriggerFor]="menu"
  class="sbb-button-reset-frameless sbb-usermenu-trigger sbb-usermenu-trigger-logged-in"
  [attr.aria-label]="_ariaLabelOpenPanel"
  type="button"
>
  <ng-container *sbbMenuDynamicTrigger>
    <span class="sbb-usermenu-identification" aria-hidden="true">
      <ng-container *ngIf="_icon">
        <ng-container *ngTemplateOutlet="_icon"></ng-container>
      </ng-container>
      <span *ngIf="!_icon" class="sbb-usermenu-initial-letters"> {{ _initialLetters }} </span>
    </span>

    <span class="sbb-usermenu-user-info">
      <span class="sbb-usermenu-user-info-display-name"> {{ displayName || userName }} </span>
      <span class="sbb-usermenu-user-info-name" *ngIf="displayName && userName">
        {{ userName }}
      </span>
    </span>

    <ng-container [ngSwitch]="variant | async">
      <sbb-icon
        *ngSwitchDefault
        svgIcon="kom:chevron-small-down-small"
        class="sbb-usermenu-arrow"
      ></sbb-icon>
      <sbb-icon
        *ngSwitchCase="'lean'"
        svgIcon="kom:chevron-right-small"
        class="sbb-usermenu-arrow"
      ></sbb-icon>
    </ng-container>
  </ng-container>
</button>

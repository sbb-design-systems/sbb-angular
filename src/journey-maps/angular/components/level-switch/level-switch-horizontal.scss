@use '@sbb-esta/angular' as esta;
@use './../../style/functions' as f;

@include f.map-controls-shared;

.map-control-button {
  cursor: pointer;
  border-radius: 18px;
  text-align: center;
  vertical-align: middle;
  width: 36px;

  @include esta.mq($from: tabletPortrait) {
    @at-root .map-control-container.small-buttons #{&} {
      border-radius: 13px;
      width: 26px;
    }
  }
}

.map-control-button:hover,
.map-control-button-selected {
  @extend .map-control-button;
  background-color: esta.$sbbColorCharcoal;
  color: white;
}

.button-container {
  display: flex;
  align-items: center;
  justify-content: flex-end;
  width: 100%;
}

.side-buttons-container {
  position: absolute; /* prevents expanding the other controls */
  display: flex;
  overflow: hidden; /* hides the side buttons to the right of the side button while collapsing/expanding */
  max-width: 0; /* initial value */
  transition:
    max-width 0.5s ease,
    visibility 0s linear 0.5s;
  visibility: hidden; /* Initially not visible */
  right: 40px; // 16 + 24 // TODO cdi ROKAS-1723 fix for small buttons as well
  border-top-left-radius: 24px; // TODO cdi ROKAS-1723 fix for small buttons as well
  border-bottom-left-radius: 24px; // TODO cdi ROKAS-1723 fix for small buttons as well
  background-color: esta.$sbbColorWhite;
}

/* Adjusted to ensure the buttons are visible when the container is displayed */
.side-buttons-container.show {
  max-width: 360px; /* 360px is large enough for St. Gallen */ // TODO cdi ROKAS-1723 fix for small buttons as well
  transition: max-width 0.5s ease;
  visibility: visible; /* Make visible when expanded */
}

.vertical-buttons {
  display: flex;
  flex-direction: column;
  align-items: flex-end; /* Aligns items to the right */
}

.main-button-wrapper {
  z-index: 3;
}

.main-button {
  background-color: esta.$sbbColorWhite; /* prevent showing the side buttons behind the main button as they expand/collapse */
}

.map-control-button-wrapper {
  user-select: none; /* prevent visually selecting the text of the buttons */
}

.map-control-button-wrapper.half-width {
  width: 24px; // TODO cdi ROKAS-1723 fix for small buttons as well
}
